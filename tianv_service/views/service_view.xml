<?xml version="1.0" encoding="utf-8" ?>
<openerp>
    <data>
        <!--View Inherit-->
        <record id="view_service_record_tree" model="ir.ui.view">
            <field name="name">tianv.service.service.record.tree</field>
            <field name="model">tianv.service.service.record</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="product_id"/>
                    <field name="price"/>
                    <field name="order_id"/>
                </tree>
            </field>
        </record>
        <record id="view_service_service_all_tree" model="ir.ui.view">
            <field name="name">tianv.service.service.tree</field>
            <field name="model">tianv.service.service</field>
            <field name="arch" type="xml">
                <tree string="Services">
                    <field name="name" string="Service Name"/>
                    <field name="product_id"/>
                    <field name="service_status"/>
                    <field name="date_start"/>
                    <field name="date"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_service_service_all_form" model="ir.ui.view">
            <field name="name">tianv.service.service.form</field>
            <field name="model">tianv.service.service</field>
            <field name="arch" type="xml">
                <form string="Services">
                    <header>
                        <button name="set_pending" string="To Renew" type="object" states="open"/>
                        <button name="set_close" string="Close Contract" type="object" states="open,pending"/>
                        <button name="set_open" string="Set In Progress" type="object" states="pending,close,cancelled,draft"/>
                        <button name="set_cancel" string="Cancel Contract" type="object" states="open,pending"/>
                        <field name="state" readonly="1" widget="statusbar"
                               statusbar_visible="open,pending,close" statusbar_colors='{"pending":"red", "template":"blue"}'/>
                    </header>
                    <header>
                        <button name="open_service" string="启动服务" type="object" attrs="{'invisible':[('service_status','=','normal')]}"/>
                        <button name="close_service" string="关闭服务" type="object" attrs="{'invisible':[('service_status','=','stop')]}"/>
                        <button name="pause_service" string="暂停服务" type="object" attrs="{'invisible':[('service_status','=','pause')]}"/>
                        <field name="service_status" widget="statusbar" readonly="1"/>
                    </header>
                    <sheet>
                        <field name="analytic_account_id" invisible="1" required="0"/>
                        <div class="oe_title">
                            <h1>
                                <label for="name" string="Service Name" class="oe_edit_only"/>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group colspan="2">
                            <p attrs="{'invisible': [('analytic_account_id','=',False)]}">
                                查看相关合同:
                                <field name="analytic_account_id" readonly="1" required="0" class="oe_inline" nolabel="1"/>.
                            </p>
                        </group>
                        <group colspan="2">
                            <group string="归属信息">
                                <field name="partner_id" domain="[('customer', '=', True)]"/>
                                <field name="manager_id"/>
                                <field name="code"/>
                            </group>
                            <group string="服务情况">
                                <field name="date_start" readonly="1"/>
                                <field name="date" readonly="1"/>
                            </group>
                            <group string="产品信息">
                                <field name="product_id" domain="[('categ_id', 'child_of', [%(prod_cate_00002)d])]"/>
                                <field name="product_size"/>
                                <field name="product_unit"/>
                                <field name="service_level"/>
                                <field name="importance"/>
                            </group>
                            <group string="其它信息">
                                <field name="account_number"/>
                                <field name="identification"/>
                                <field name="password"/>
                                <field name="port"/>
                                <field name="domain_info"/>
                                <field name="connect_info"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="服务记录">
                                <field name="record_ids" readonly="1"/>
                            </page>
                            <page string="备注">
                                <field name="comment" placeholder="在这里填入备注信息" nolabel="1"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
    </data>
</openerp>
