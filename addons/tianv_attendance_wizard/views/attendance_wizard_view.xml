<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record id="view_tianv_attendance_wizard_form" model="ir.ui.view">
            <field name="name">view.tianv.hr.attendance.wizard.form</field>
            <field name="model">tianv.hr.attendance.wizard</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="button_get_contract" type="object" string="获取相关合同" states="period_select"/>
                        <button name="button_period_to_social" type="object" string="下一步" class="oe_highlight" states="period_select"/>

                        <button name="button_generate_social" type="object" string="生成社保信息" states="generate_social"/>
                        <button name="button_social_to_attendance" type="object" string="下一步" class="oe_highlight" states="generate_social"/>
                        <button name="button_reverse" type="object" string="上一步" states="generate_social"
                                context="{'state': 'period_select'}"/>

                        <button name="button_generate_attendance" type="object" string="生成考勤信息" states="generate_attendance"/>
                        <button name="button_attendance_to_payroll" type="object" string="下一步" class="oe_highlight" states="generate_attendance"/>
                        <button name="button_reverse" type="object" string="上一步" states="generate_attendance"
                                context="{'state': 'generate_social'}"/>

                        <button name="button_generate_payroll" type="object" string="生成工资条" states="generate_payroll"/>
                        <button name="button_payroll_to_done" type="object" string="下一步" class="oe_highlight" states="generate_payroll"/>
                        <button name="button_reverse" type="object" string="上一步" states="generate_payroll"
                                context="{'state': 'generate_attendance'}"/>

                        <button name="button_payroll_verify" type="object" string="工资条生效" class="oe_highlight" states="done"/>

                        <field name="state" widget="statusbar" readonly="1"/>
                    </header>
                    <sheet>
                        <group string="选择会计周期和人员">
                            <field name="period" domain="[('state','=','draft')]"/>
                            <field name="employees" widget="many2many_tags"/>
                        </group>
                        <group string="生成工资信息" states="generate_payroll,done">
                            <field name="relative_payslips" nolabel="1"/>
                        </group>
                        <group string="生成考勤记录" states="generate_attendance,generate_payroll,done">
                            <field name="relative_attendances" nolabel="1"/>
                        </group>
                        <group string="生成社保记录" states="generate_social,generate_attendance,generate_payroll,done">
                            <field name="relative_social" nolabel="1"/>
                        </group>
                        <group string="相关合同">
                            <field name="contracts" nolabel="1"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
    </data>
</openerp>